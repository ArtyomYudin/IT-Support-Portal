<clr-datagrid [(clrDgSelected)]="selected">
    <clr-dg-action-bar>
        <div class="btn-group btn-link btn-sm">
            <button class="btn" (click)="purchaseRequestPage.open()"><clr-icon shape="file"></clr-icon>Создать заявку</button>
            <button class="btn" (click)="(null)" [disabled]="!(selected.length == 1)">
                <clr-icon shape="pencil"></clr-icon>Редактировать
            </button>
            <button class="btn" (click)="(null)" [disabled]="selected.length == 0"><clr-icon shape="trash"></clr-icon>Удалить</button>
        </div>
    </clr-dg-action-bar>

    <clr-dg-column [style.width.px]="170">Дата заявки</clr-dg-column>
    <clr-dg-column [style.width.px]="250">Инициатор Ф.И.О</clr-dg-column>
    <clr-dg-column>Подразделение</clr-dg-column>
    <clr-dg-column>Ответственное лицо</clr-dg-column>
    <clr-dg-column>Объект приобретения</clr-dg-column>
    <clr-dg-column>Статус заявки</clr-dg-column>
    <clr-dg-placeholder>Не создана ни одна заявка !</clr-dg-placeholder>

    <clr-dg-row
        *clrDgItems="let purchaseRequest of this.purchaseRequestArray$ | async"
        [clrDgItem]="purchaseRequest"
        [(clrDgSelected)]="purchaseRequest.selected"
    >
        <clr-dg-cell>{{ purchaseRequest.date | date: 'dd MMMM YYYY, HH:mm' }}</clr-dg-cell>
        <clr-dg-cell>{{ purchaseRequest.authorDisplayName }}</clr-dg-cell>
        <clr-dg-cell>{{ purchaseRequest.authorDepartmentName }}</clr-dg-cell>
        <clr-dg-cell>{{ purchaseRequest.responsibleDisplayName }}</clr-dg-cell>
        <clr-dg-cell>{{ purchaseRequest.purchaseTarget }}</clr-dg-cell>
        <clr-dg-cell>{{ purchaseRequest.statusId }}</clr-dg-cell>
    </clr-dg-row>

    <clr-dg-footer>
        <clr-dg-pagination #paginationUser [clrDgPageSize]="20">
            <clr-dg-page-size [clrPageSizeOptions]="[20, 50, 100]">Заявок на страницу</clr-dg-page-size>
            {{ paginationUser.firstItem + 1 }} - {{ paginationUser.lastItem + 1 }} из {{ paginationUser.totalItems }} Заявок
        </clr-dg-pagination>
    </clr-dg-footer>
</clr-datagrid>

<fe-purchase-request-page #purchaseRequestPage></fe-purchase-request-page>
